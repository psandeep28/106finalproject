<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Career Path Chronicles</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.0.0/dist/tf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="medicine-spiral.js"></script>
  </head>
  <body>
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="page">
      <div class="background"></div>
      <div class="scanlines"></div>
      <div class="welcome-container">
        <h1 class="game-title">CAREER PATH CHRONICLES</h1>
        <h2 class="subtitle">Depression Risk Explorer<span class="cursor"></span></h2>
        <div class="description">
          <p>Welcome to an interactive journey through the complex world of student mental health and career choices.</p>
          <p>Explore how different factors like <span class="highlight">sleep patterns</span>, <span class="highlight">academic pressure</span>, and <span class="highlight">financial stress</span> influence depression risk across career fields.</p>
          <p>Navigate through data-driven visualizations to discover insights that can help guide students toward healthier paths.</p>
        </div>
        <button class="start-button" id="start-button">‚ñ∫ START EXPLORATION</button>
      </div>
      <div class="credits">Data Visualization Project | DSC 106 Final</div>
    </div>

    <!-- Profiles Page -->
    <div id="profiles-screen" class="page hidden">
      <button class="back-button" id="back-button">‚Üê BACK</button>
      <div class="container">
        <div class="header">
          <h1 class="page-title">CAREER PROFILE ANALYSIS</h1>
          <p class="instruction">Click on a career field to explore depression risk and wellbeing stats</p>
        </div>
        <div class="career-grid">
          <!-- Cards will be dynamically populated -->
        </div>
        <div id="visualization-panel" class="visualization-panel hidden">
          <div id="confirm-container" class="hidden">
            <button id="confirm-button" class="confirm-btn">‚úì Confirm This Profile</button>
          </div>

          <h2 class="viz-title" id="viz-title">SELECT A CAREER TO EXPLORE</h2>
          <div class="viz-container">
            <div class="chart-area">
              <div id="chart-container"></div>
            </div>
            <div class="info-panel">
              <div class="info-section">
                <h3>Risk Assessment</h3>
                <div class="metric-bar"><div class="metric-fill depression-fill" id="depression-bar"></div></div>
                <p id="depression-text">Depression Rate: --</p>
              </div>
              <div class="info-section">
                <h3>Sleep Quality</h3>
                <div class="metric-bar"><div class="metric-fill sleep-fill" id="sleep-bar"></div></div>
                <p id="sleep-text">Average Sleep: --</p>
              </div>
              <div class="info-section">
                <h3>Stress Levels</h3>
                <div class="metric-bar"><div class="metric-fill stress-fill" id="stress-bar"></div></div>
                <p id="stress-text">Stress Level: --</p>
              </div>
              <div class="info-section">
                <h3>Key Insights</h3>
                <p id="insights-text">Select a career field to see detailed analysis and patterns.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Enhanced User Profile Input Page -->
    <div id="user-profile" class="page hidden">
      <div class="assessment-container">
        <div class="assessment-header">
          <div class="step-indicator">
            <div class="step current">1</div>
            <div class="step-line"></div>
            <div class="step">2</div>
            <div class="step-line"></div>
            <div class="step">3</div>
            <div class="step-line"></div>
            <div class="step">4</div>
          </div>
          <h2 class="assessment-title">
            <span class="title-icon">üéØ</span>
            Personal Risk Assessment
          </h2>
          <p class="assessment-subtitle">
            Help us understand your situation to provide personalized insights
          </p>
        </div>

        <div class="assessment-content">
          <div class="assessment-left">
            <div class="radar-container">
              <div id="user-chart" class="chart-container"></div>
              <div class="chart-legend">
                <div class="legend-item">
                  <span class="legend-dot academic"></span>
                  Academic Pressure
                </div>
                <div class="legend-item">
                  <span class="legend-dot financial"></span>
                  Financial Stress
                </div>
                <div class="legend-item">
                  <span class="legend-dot balance"></span>
                  Work-Life Balance
                </div>
                <div class="legend-item">
                  <span class="legend-dot support"></span>
                  Social Support
                </div>
                <div class="legend-item">
                  <span class="legend-dot security"></span>
                  Job Security
                </div>
              </div>
            </div>
          </div>

          <div class="assessment-right">
            <div class="assessment-form">
              <div class="form-section">
                <h3>Stress Factors</h3>
                
                <div class="input-group">
                  <label for="ac-pressure">Academic Pressure</label>
                  <div class="slider-container">
                    <input type="range" id="ac-pressure" name="Academic Pressure" 
                           class="assessment-slider" min="0" max="100" value="50">
                    <div class="slider-labels">
                      <span>Low</span>
                      <span class="slider-value" id="ac-pressure-value">50</span>
                      <span>High</span>
                    </div>
                  </div>
                  <div class="input-hint">How overwhelmed do you feel by academic demands?</div>
                </div>

                <div class="input-group">
                  <label for="fin-stress">Financial Stress</label>
                  <div class="slider-container">
                    <input type="range" id="fin-stress" name="Financial Stress" 
                           class="assessment-slider" min="0" max="100" value="50">
                    <div class="slider-labels">
                      <span>Secure</span>
                      <span class="slider-value" id="fin-stress-value">50</span>
                      <span>Stressed</span>
                    </div>
                  </div>
                  <div class="input-hint">How worried are you about money and expenses?</div>
                </div>
              </div>

              <div class="form-section">
                <h3>Support Systems</h3>
                
                <div class="input-group">
                  <label for="wl-balance">Work-Life Balance</label>
                  <div class="slider-container">
                    <input type="range" id="wl-balance" name="Work-Life Balance" 
                           class="assessment-slider" min="0" max="100" value="50">
                    <div class="slider-labels">
                      <span>Poor</span>
                      <span class="slider-value" id="wl-balance-value">50</span>
                      <span>Excellent</span>
                    </div>
                  </div>
                  <div class="input-hint">How well do you balance work/study with personal time?</div>
                </div>

                <div class="input-group">
                  <label for="soc-supp">Social Support</label>
                  <div class="slider-container">
                    <input type="range" id="soc-supp" name="Social Support" 
                           class="assessment-slider" min="0" max="100" value="50">
                    <div class="slider-labels">
                      <span>Isolated</span>
                      <span class="slider-value" id="soc-supp-value">50</span>
                      <span>Supported</span>
                    </div>
                  </div>
                  <div class="input-hint">How connected do you feel to friends, family, and community?</div>
                </div>

                <div class="input-group">
                  <label for="job-sec">Job Security</label>
                  <div class="slider-container">
                    <input type="range" id="job-sec" name="Job Security" 
                           class="assessment-slider" min="0" max="100" value="50">
                    <div class="slider-labels">
                      <span>Uncertain</span>
                      <span class="slider-value" id="job-sec-value">50</span>
                      <span>Confident</span>
                    </div>
                  </div>
                  <div class="input-hint">How confident are you about your career prospects?</div>
                </div>
              </div>

              <div class="form-section">
                <h3>Sleep Patterns</h3>
                
                <div class="input-group">
                  <label for="sleep-amnt">Average Sleep per Night</label>
                  <select id="sleep-amnt" name="Amount of Sleep" class="assessment-select">
                    <option value="5">Less than 5 Hours</option>
                    <option value="5-6">5‚Äì6 Hours</option>
                    <option value="7-8" selected>7‚Äì8 Hours</option>
                    <option value="8">More than 8 Hours</option>
                  </select>
                  <div class="input-hint">Quality sleep is crucial for mental health</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="assessment-footer">
          <div class="progress-container">
            <div class="progress-bar">
              <div class="progress-fill" id="assessment-progress"></div>
            </div>
            <div class="progress-text" id="progress-text">Adjust the sliders to see your profile</div>
          </div>
          
          <button id="complete-assessment-btn" class="assessment-button" disabled>
            <span class="button-icon">üéØ</span>
            <span class="button-text">Analyze My Risk Profile</span>
            <span class="button-arrow">‚Üí</span>
          </button>
          
          <div class="privacy-note">
            <span class="privacy-icon">üîí</span>
            Your responses are confidential and used only for this assessment
          </div>
        </div>
      </div>
    </div>

    <div id="your-sleep-comparison" class="page hidden">
      <div class="container">
        <div class="comparison-header">
          <h1 class="page-title">üò¥ Your Sleep Pattern vs 27,901 Students</h1>
          <p class="comparison-subtitle">Let's see how your <span class="user-highlight" id="user-sleep-display">7-8 hours</span> of sleep compares</p>
        </div>
    
        <div class="sleep-comparison-content">
          <div class="user-spotlight">
            <div class="you-card">
              <div class="you-icon">üë§</div>
              <h3>YOU</h3>
              <div class="you-sleep" id="you-sleep-hours">7-8 hours</div>
              <div class="you-position">Optimal Range</div>
            </div>
          </div>
    
          <div class="population-visualization">
            <h3>Where You Stand in the Population</h3>
            <div id="sleep-population-chart" class="population-chart">
              <!-- Dynamic chart will be inserted here -->
            </div>
            
            <div class="sleep-insights-grid">
              <div class="insight-card positive" id="sleep-insight-card">
                <div class="insight-icon">üí°</div>
                <div class="insight-content">
                  <h4>Your Sleep Advantage</h4>
                  <p id="sleep-advantage-text">You're in the 33% of students who get optimal sleep!</p>
                </div>
              </div>
              
              <div class="stats-comparison">
                <div class="stat-item">
                  <span class="stat-number" id="your-group-size">9,184</span>
                  <span class="stat-label">students sleep like you</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number" id="your-group-depression">42.1%</span>
                  <span class="stat-label">depression rate in your sleep group</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number depression-diff" id="depression-difference">-16.5%</span>
                  <span class="stat-label">vs. average depression rate</span>
                </div>
              </div>
            </div>
          </div>
        </div>
    
        <div class="comparison-footer">
          <button id="next-to-stress-comparison" class="comparison-next-btn">
            <span class="btn-icon">‚ö°</span>
            See Your Stress Profile
            <span class="btn-arrow">‚Üí</span>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Screen 2: Your Stress Profile vs Dataset -->
    <div id="your-stress-comparison" class="page hidden">
      <div class="container">
        <div class="comparison-header">
          <h1 class="page-title">‚ö° Your Stress Profile Breakdown</h1>
          <p class="comparison-subtitle">How your stress levels compare to thousands of other students</p>
        </div>
    
        <div class="stress-profile-content">
          <div class="stress-radar-section">
            <h3>Your Stress Signature</h3>
            <div class="radar-comparison">
              <div id="user-stress-radar" class="stress-radar"></div>
              <div class="radar-legend">
                <div class="legend-item">
                  <span class="legend-dot you-color"></span>
                  Your Profile
                </div>
                <div class="legend-item">
                  <span class="legend-dot average-color"></span>
                  Average Student
                </div>
              </div>
            </div>
          </div>
    
          <div class="factor-analysis">
            <h3>Factor-by-Factor Breakdown</h3>
            <div class="factor-comparisons">
              
              <div class="factor-comparison">
                <div class="factor-header">
                  <span class="factor-icon">üìö</span>
                  <span class="factor-name">Academic Pressure</span>
                </div>
                <div class="comparison-bars">
                  <div class="bar-container">
                    <div class="bar-label">You</div>
                    <div class="comparison-bar you-bar">
                      <div class="bar-fill you-fill" id="you-academic-bar" style="width: 70%"></div>
                      <span class="bar-value" id="you-academic-value">70</span>
                    </div>
                  </div>
                  <div class="bar-container">
                    <div class="bar-label">Average</div>
                    <div class="comparison-bar avg-bar">
                      <div class="bar-fill avg-fill" style="width: 65.2%"></div>
                      <span class="bar-value">65.2</span>
                    </div>
                  </div>
                </div>
                <div class="factor-insight" id="academic-insight">
                  You're slightly above average in academic pressure
                </div>
              </div>
    
              <div class="factor-comparison">
                <div class="factor-header">
                  <span class="factor-icon">üí∞</span>
                  <span class="factor-name">Financial Stress</span>
                </div>
                <div class="comparison-bars">
                  <div class="bar-container">
                    <div class="bar-label">You</div>
                    <div class="comparison-bar you-bar">
                      <div class="bar-fill you-fill" id="you-financial-bar" style="width: 45%"></div>
                      <span class="bar-value" id="you-financial-value">45</span>
                    </div>
                  </div>
                  <div class="bar-container">
                    <div class="bar-label">Average</div>
                    <div class="comparison-bar avg-bar">
                      <div class="bar-fill avg-fill" style="width: 52.8%"></div>
                      <span class="bar-value">52.8</span>
                    </div>
                  </div>
                </div>
                <div class="factor-insight" id="financial-insight">
                  You have lower financial stress than most students
                </div>
              </div>
    
              <div class="factor-comparison">
                <div class="factor-header">
                  <span class="factor-icon">‚öñÔ∏è</span>
                  <span class="factor-name">Work-Life Balance</span>
                </div>
                <div class="comparison-bars">
                  <div class="bar-container">
                    <div class="bar-label">You</div>
                    <div class="comparison-bar you-bar">
                      <div class="bar-fill you-fill protective" id="you-balance-bar" style="width: 75%"></div>
                      <span class="bar-value" id="you-balance-value">75</span>
                    </div>
                  </div>
                  <div class="bar-container">
                    <div class="bar-label">Average</div>
                    <div class="comparison-bar avg-bar">
                      <div class="bar-fill avg-fill" style="width: 48.3%"></div>
                      <span class="bar-value">48.3</span>
                    </div>
                  </div>
                </div>
                <div class="factor-insight" id="balance-insight">
                  Your work-life balance is significantly better than average
                </div>
              </div>
    
              <div class="factor-comparison">
                <div class="factor-header">
                  <span class="factor-icon">ü§ù</span>
                  <span class="factor-name">Social Support</span>
                </div>
                <div class="comparison-bars">
                  <div class="bar-container">
                    <div class="bar-label">You</div>
                    <div class="comparison-bar you-bar">
                      <div class="bar-fill you-fill protective" id="you-social-bar" style="width: 80%"></div>
                      <span class="bar-value" id="you-social-value">80</span>
                    </div>
                  </div>
                  <div class="bar-container">
                    <div class="bar-label">Average</div>
                    <div class="comparison-bar avg-bar">
                      <div class="bar-fill avg-fill" style="width: 61.7%"></div>
                      <span class="bar-value">61.7</span>
                    </div>
                  </div>
                </div>
                <div class="factor-insight" id="social-insight">
                  You feel more supported than most students
                </div>
              </div>
    
            </div>
          </div>
        </div>
    
        <div class="comparison-footer">
          <button id="next-to-peer-match" class="comparison-next-btn">
            <span class="btn-icon">üë•</span>
            Find Your Student Matches
            <span class="btn-arrow">‚Üí</span>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Screen 3: Find Students Most Like You -->
    <div id="peer-matching-screen" class="page hidden">
      <div class="container">
        <div class="comparison-header">
          <h1 class="page-title">üë• Students Most Like You</h1>
          <p class="comparison-subtitle">Based on your responses, here are your closest matches in the dataset</p>
        </div>
    
        <div class="peer-matching-content">
          <div class="similarity-score">
            <div class="score-circle">
              <div class="score-number" id="similarity-score">847</div>
              <div class="score-label">similar students found</div>
            </div>
            <div class="match-quality">
              <div class="match-bar">
                <div class="match-fill" id="match-quality-bar" style="width: 92%"></div>
              </div>
              <span class="match-percentage">92% similarity match</span>
            </div>
          </div>
    
          <div class="peer-characteristics">
            <h3>Your Peer Group Characteristics</h3>
            <div class="characteristic-grid">
              
              <div class="characteristic-card">
                <div class="char-icon">üò¥</div>
                <div class="char-content">
                  <h4>Sleep Pattern</h4>
                  <p><span class="highlight-stat">78%</span> sleep 7-8 hours like you</p>
                </div>
              </div>
    
              <div class="characteristic-card">
                <div class="char-icon">üìö</div>
                <div class="char-content">
                  <h4>Academic Load</h4>
                  <p><span class="highlight-stat">65%</span> report similar academic pressure</p>
                </div>
              </div>
    
              <div class="characteristic-card">
                <div class="char-icon">ü§ù</div>
                <div class="char-content">
                  <h4>Support Systems</h4>
                  <p><span class="highlight-stat">71%</span> have strong social support</p>
                </div>
              </div>
    
              <div class="characteristic-card">
                <div class="char-icon">‚öñÔ∏è</div>
                <div class="char-content">
                  <h4>Life Balance</h4>
                  <p><span class="highlight-stat">69%</span> maintain good work-life balance</p>
                </div>
              </div>
    
            </div>
          </div>
    
          <div class="peer-outcomes">
            <h3>Mental Health Outcomes in Your Peer Group</h3>
            <div class="outcomes-visualization">
              <div class="outcome-donut">
                <div id="peer-depression-chart"></div>
              </div>
              <div class="outcome-stats">
                <div class="outcome-stat positive">
                  <span class="outcome-number" id="peer-healthy-rate">67%</span>
                  <span class="outcome-label">Report good mental health</span>
                </div>
                <div class="outcome-stat concerning">
                  <span class="outcome-number" id="peer-depression-rate">33%</span>
                  <span class="outcome-label">Experience depression symptoms</span>
                </div>
                <div class="outcome-insight">
                  <p id="peer-group-insight">Students with your profile have a <strong>25% lower</strong> depression rate than the general student population.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
    
        <div class="comparison-footer">
          <button id="reveal-my-risk" class="comparison-final-btn">
            <span class="btn-icon">üéØ</span>
            Reveal My Personal Risk Assessment
            <span class="btn-arrow">‚Üí</span>
          </button>
        </div>
      </div>
    </div>


    <!-- Timeline Screen for Business Profile -->
    <div id="timeline-screen" class="page hidden">
      <button class="back-button">‚Üê BACK TO PROFILES</button>
      <div class="container">
        <h1>üìà Business Students: Stress & Depression Over Time</h1>
        <p>This visualization explores how stress evolves with age for business students. It compares academic and financial stress scores,
        tracks depression rates, and highlights periods of high total stress. Use the zoom tool below to focus on specific age ranges and hover for exact values.</p>
        <div class="viz-flex-wrapper">
            <div id="chart-wrapper">
              <div id="chart"></div>
            </div>
            <div class="legend-box">
              <div class="legend-item"><div class="legend-color" style="background:#00ffff;"></div>Academic Stress</div>
              <div class="legend-item"><div class="legend-color" style="background:#ff00ff;"></div>Financial Stress</div>
              <div class="legend-item"><div class="legend-color" style="background:#ffff00;"></div>Depression Rate</div>
              <div class="legend-item"><div class="legend-color" style="background:red;"></div>High Total Stress</div>
            </div>
          </div>
        <div class="panel-next-button-container">
          <button id="next-to-risk" class="next-button">‚Üí View Risk Insights</button>
        </div>
      </div>
    </div>

    <!-- Engineering Matrix Screen -->
    <div id="engineering-matrix-screen" class="page hidden">
      <button class="back-button">‚Üê BACK TO PROFILES</button>
        <div class="container">
          <h1>üí§ The Sleep Sacrifice Matrix (Engineering Students)</h1>
          <p>This matrix shows how sleep duration and study hours intersect to impact depression risk among engineering students.</p>
          <div class="matrix-wrapper">
            <svg id="engineering-matrix-svg" width="960" height="500"></svg>
          </div>
          
          <div class="legend-box-fixed" style="margin-top: 20px;">
            <div class="legend-item">
                <div class="legend-color" style="background:#ff0000; width: 15px; height: 15px; border-radius: 50%; margin-right: 8px;"></div>
                Higher Depression Rate
              </div>
              <div class="legend-item">
                <div class="legend-color" style="background:#ff6600; width: 8px; height: 8px; border-radius: 50%; margin-right: 8px;"></div>
                Fewer Students
              </div>
              <div class="legend-item">
                <div class="legend-color" style="background:#ff6600; width: 16px; height: 16px; border-radius: 50%; margin-right: 8px;"></div>
                More Students
              </div>          
          </div>
          <div class="panel-next-button-container">
            <button id="next-from-engineering" class="next-button">‚Üí View Risk Insights</button>
          </div>
        </div>
      </div>
      <div class="tooltip" id="engineering-tooltip"></div>

    <div id="arts-analysis-screen" class="page hidden">

      <div class="arts-radial-section">
        <div class="arts-radial-header">
          <h2 class="radial-title">üé® Sleep & Pressure Heat Ring Analysis</h2>
          <p class="radial-description">
            This circular visualization reveals how sleep patterns and academic pressure intersect to create different mental health outcomes for arts students. 
            Each ring represents a sleep duration category (inner = less sleep), while segments show academic pressure levels (1-5). 
            <strong style="color: #ff6f96;">Darker red areas indicate higher depression rates</strong> in that combination.
          </p>
          
        </div>
      
        <!-- Enhanced Controls -->
        <div class="arts-controls">
          <div class="control-group-arts">
            <h3>üéõÔ∏è Filter Options</h3>
            <div class="checkbox-controls">
              <label class="arts-checkbox-label">
                <input type="checkbox" id="arts-fem" checked class="arts-checkbox" />
                <span class="arts-checkbox-custom"></span>
                <span class="gender-icon">‚ôÄ</span>
                Female Students
              </label>
              <label class="arts-checkbox-label">
                <input type="checkbox" id="arts-male" checked class="arts-checkbox" />
                <span class="arts-checkbox-custom"></span>
                <span class="gender-icon">‚ôÇ</span>
                Male Students
              </label>
              <label class="arts-checkbox-label">
                <input type="checkbox" id="arts-small" class="arts-checkbox" />
                <span class="arts-checkbox-custom"></span>
                <span class="cohort-icon">üë•</span>
                Include Small Groups (< 4 students)
              </label>
            </div>
          </div>
        </div>
      
        <!-- Visualization Container -->
        <div class="arts-radial-container">
          <svg id="arts-radial" width="700" height="700"></svg>
          
          <!-- Enhanced Legends -->
          <div class="arts-legends">
            <div class="legend-section-arts">
              <h4>üí§ Sleep Duration Rings</h4>
              <div class="sleep-ring-legend">
                <div class="ring-item">
                  <div class="ring-visual inner-ring"></div>
                  <span>&lt; 5 hours (Danger Zone)</span>
                </div>
                <div class="ring-item">
                  <div class="ring-visual second-ring"></div>
                  <span>5-6 hours (Risk Zone)</span>
                </div>
                <div class="ring-item">
                  <div class="ring-visual third-ring"></div>
                  <span>7-8 hours (Optimal)</span>
                </div>
                <div class="ring-item">
                  <div class="ring-visual outer-ring"></div>
                  <span>8+ hours (Excellent)</span>
                </div>
              </div>
            </div>
            
            <div class="legend-section-arts">
              <h4>‚ö° Academic Pressure Scale</h4>
              <div class="pressure-clock-legend">
                <div class="clock-visual">
                  <div class="clock-center"></div>
                  <div class="clock-markers">
                    <span class="pressure-marker p1">1</span>
                    <span class="pressure-marker p2">2</span>
                    <span class="pressure-marker p3">3</span>
                    <span class="pressure-marker p4">4</span>
                    <span class="pressure-marker p5">5</span>
                  </div>
                </div>
                <p>Segments represent pressure levels 1-5</p>
              </div>
            </div>
            
            <div class="legend-section-arts">
              <h4>üå°Ô∏è Depression Risk Heat Scale</h4>
              <div class="heat-scale-legend">
                <div class="heat-bar"></div>
                <div class="heat-labels">
                  <span>0% Low Risk</span>
                  <span>50% Moderate</span>
                  <span>100% High Risk</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      
        <!-- Stats Dashboard -->
        <div class="arts-stats-dashboard">
          <div class="stat-card-arts">
            <div class="stat-number" id="arts-total-students">0</div>
            <div class="stat-label">Arts Students Analyzed</div>
          </div>
          <div class="stat-card-arts">
            <div class="stat-number" id="arts-avg-depression">0%</div>
            <div class="stat-label">Average Depression Rate</div>
          </div>
          <div class="stat-card-arts">
            <div class="stat-number" id="arts-high-risk">0</div>
            <div class="stat-label">High-Risk Combinations</div>
          </div>
          <div class="stat-card-arts">
            <div class="stat-number" id="arts-optimal-sleep">0%</div>
            <div class="stat-label">Getting Optimal Sleep (7-8h)</div>
          </div>
        </div>

        <button id="next-from-arts" class="next-button">‚Üí View Risk Insights</button>

      </div>
      
      <!-- Interactive Tooltip -->
      <div id="arts-radial-tooltip" class="arts-tooltip"></div>

    <!-- Medicine Analysis Screen -->
    <div id="medicine-analysis-screen" class="page hidden">
      <button class="back-button">‚Üê BACK TO PROFILES</button>
      <div class="container">
        <h1>üè• Medicine Students: Mental Health Spiral Analysis</h1>
        <p>Explore how sleep patterns, academic pressure, and study hours create a complex spiral of mental health outcomes for medicine students.</p>
        
        <!-- The medicine spiral content will be dynamically created here by medicine-spiral.js -->

        <div class="medicine-matrix-section">
          <h2 class="matrix-title">üî¨ Academic Pressure vs Sleep Wellness Matrix</h2>
          <p class="matrix-description">
            This interactive matrix reveals how academic pressure and sleep duration create different wellness outcomes for medicine students. 
            Each dot represents a group of students - size shows study satisfaction, color shows depression rate.
          </p>
        
          <!-- Enhanced Controls -->
          <div class="matrix-controls">
            <div class="control-group">
              <label class="control-label">
                <span class="control-icon">üéì</span>
                Degree Focus:
                <select id="medicine-degree-select" class="matrix-select">
                  <option value="All">All Medicine Students</option>
                </select>
              </label>
            </div>
            
            <div class="control-group">
              <span class="control-label">
                <span class="control-icon">üë•</span>
                Gender Analysis:
              </span>
              <label class="checkbox-label">
                <input type="checkbox" id="medicine-show-females" checked class="matrix-checkbox" />
                <span class="checkbox-custom"></span>
                Female Students
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="medicine-show-males" checked class="matrix-checkbox" />
                <span class="checkbox-custom"></span>
                Male Students
              </label>
            </div>
          </div>
        
          <!-- Matrix Visualization Container -->
          <div class="medicine-matrix-container">
            <svg id="medicine-matrix-plot" width="900" height="540"></svg>
            
            <!-- Enhanced Legend -->
            <div class="matrix-legend">
              <div class="legend-section">
                <h4>Depression Risk Scale</h4>
                <div class="color-legend">
                  <div class="color-bar"></div>
                  <div class="color-labels">
                    <span>0% Low Risk</span>
                    <span>50% Moderate</span>
                    <span>100% High Risk</span>
                  </div>
                </div>
              </div>
              
              <div class="legend-section">
                <h4>Study Satisfaction</h4>
                <div class="size-legend">
                  <div class="size-examples">
                    <div class="size-dot small"></div>
                    <span>Low Satisfaction</span>
                    <div class="size-dot medium"></div>
                    <span>Average</span>
                    <div class="size-dot large"></div>
                    <span>High Satisfaction</span>
                  </div>
                </div>
              </div>
              
              <div class="legend-section">
                <h4>Key Insights</h4>
                <div class="insight-bullets">
                  <div class="insight-item">
                    <span class="insight-dot danger"></span>
                    <span>Danger Zone: High pressure + Low sleep</span>
                  </div>
                  <div class="insight-item">
                    <span class="insight-dot optimal"></span>
                    <span>Sweet Spot: Moderate pressure + 7-8 hours sleep</span>
                  </div>
                  <div class="insight-item">
                    <span class="insight-dot protective"></span>
                    <span>Protective: Adequate sleep buffers high pressure</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        
          <!-- Interactive Tooltip -->
          <div id="medicine-matrix-tooltip" class="matrix-tooltip"></div>
        </div>
        
        <div class="panel-next-button-container">
          <button id="next-from-medicine" class="next-button">‚Üí View Risk Insights</button>
        </div>
      </div>
    </div>

    <!-- Risk Background Panels Page -->
    <div id="risk-panels-screen" class="page hidden">
      <div class="container">
        <h1 class="page-title">Understanding Student Depression Risks</h1>

        <section id="risk-panel-1" class="info-panel">
          <h2>Sleep Duration & Depression Risk</h2>
          <p>
            Depression is more than just your major. Across all majors as you can see the common theme is sleep. Students who reported experiencing depression were 6% above the average when getting less than 5 hours of sleep. 
          </p>
          <div id="sleep-risk-chart"></div>
        </section>

        <section id="risk-panel-2" class="info-panel">
          <h2>We're All In This Together</h2>
          <p>
            While students with depression spend <strong>1.5 hours more</strong> per day working or studying (7.81 vs 6.24 hours/day), 
            what's most important to understand is that <strong>no academic field is immune to mental health challenges</strong>.
          </p>
          <p>
            Whether you're in Business, Engineering, Arts, or Medicine, the pressures are real and the struggles are shared. 
            <strong>Depression doesn't discriminate by major</strong> ‚Äì it affects brilliant minds across all disciplines.
          </p>
          <p>
            The visualization below shows how students from different fields ultimately face similar challenges. 
            Remember: <strong>seeking help is a sign of strength</strong>, not weakness. You're not alone in this journey.
          </p>

          <div class="depression-legend">
            <div class="legend-item">
              <span class="legend-dot" style="background: #3498db"></span>
              Business
            </div>
            <div class="legend-item">
              <span class="legend-dot" style="background: #e74c3c"></span>
              Engineering
            </div>
            <div class="legend-item">
              <span class="legend-dot" style="background: #9b59b6"></span>
              Arts
            </div>
            <div class="legend-item">
              <span class="legend-dot" style="background: #1abc9c"></span>
              Medicine
            </div>
          </div>
          <div id="depression-unity-chart"></div>
          <div class="unity-controls">
            <button onclick="goToPhase(1)" class="phase-btn">Phase 1: By Profile</button>
            <button onclick="goToPhase(2)" class="phase-btn">Phase 2: By Factors</button>
            <button onclick="goToPhase(3)" class="phase-btn">Phase 3: Unity</button>
          </div>
          <div class="phase-label" id="phase-description-label">
            Phase 1: Grouping students by academic profile...
          </div>
          <div class="factor-labels-container">
            <div class="factor-label academic-pressure" style="position: absolute; left: 50%; top: 20px; transform: translateX(-50%);">HIGH ACADEMIC PRESSURE</div>
            <div class="factor-label work-pressure" style="position: absolute; left: 50%; bottom: 20px; transform: translateX(-50%);">HIGH WORK PRESSURE</div>
            <div class="factor-label financial-stress" style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%);">FINANCIAL STRESS</div>
            <div class="factor-label study-hours" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%);">LONG STUDY HOURS</div>
          </div>
        </section>

        <div class="panel-next-button-container">
          <button id="next-to-user" class="next-button">‚Üí Start Your Personal Assessment</button>
        </div>
      </div>
    </div>

    <!-- Scripts - FIXED VERSION -->
    <script type="module" src="./user-model.js"></script>
    <script type="module" src="./script.js"></script>
    <script type="module" src="post-assessment.js"></script>
    <script type="module">
      // Simple, working event listeners
      function startGame() {
        console.log('Starting game...');
        document.getElementById("welcome-screen").classList.add("hidden");
        document.getElementById("profiles-screen").classList.remove("hidden");
      }

      function goBack() {
        console.log('Going back...');
        document.getElementById("profiles-screen").classList.add("hidden");
        document.getElementById("welcome-screen").classList.remove("hidden");
        document.getElementById("visualization-panel").classList.add("hidden");
        
        // Hide user assessment screens
        const userScreens = ['user-profile', 'user-results-screen'];
        userScreens.forEach(screenId => {
          const screen = document.getElementById(screenId);
          if (screen) screen.classList.add('hidden');
        });
      }

      // Wait for DOM to be ready
      document.addEventListener('DOMContentLoaded', () => {
        console.log('DOM loaded, setting up event listeners...');
        
        const backBtn = document.getElementById('back-button');
        const startBtn = document.getElementById('start-button');
        
        if (backBtn) {
          backBtn.addEventListener('click', goBack);
          console.log('Back button listener added');
        } else {
          console.error('Back button not found!');
        }
        
        if (startBtn) {
          startBtn.addEventListener('click', startGame);
          console.log('Start button listener added');
        } else {
          console.error('Start button not found!');
        }

        console.log('‚úÖ Basic navigation set up successfully');
      });
    </script>

    <div class="tooltip" id="tooltip"></div>
  </body>
</html>